name: SSH Remote RDP
run-name: SSH Remote RDP
env:
  # The name of the main module repository
  main_project_module: workspace
  
on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest # Android SDK is built-in in this image
        
    steps:
    - name: Start SSH via tmate
      uses: rdp-studio/ssh2actions@main

version: '3.8'
services:

  kali:
    build:
      dockerfile: Dockerfile
      context: ./kali
    #image: 'kalilinux/kali-rolling'
    container_name: kali
    tty: true
    restart: always
    privileged: true   # Add the privileged option, SYS_ADMIN is limited, where privileged has full access
    network_mode: host
    stdin_open: true
    ports:
    - 127.0.0.1:8085:8085
